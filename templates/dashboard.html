{% extends 'base.html' %}

{% block content %}
     <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pb-2 mb-3 border-bottom">
            <h1 class="h2">Dashboard</h1>
          </div>

          <h3>Welcome, {{name}}</h3>
          <!-- Quick Stats / Overview -->
          <div class="row mb-4 mt-3">
            <!-- Completed Tasks -->
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-3">
              <a href="#" class="text-decoration-none">
                <div class="card text-white shadow-sm" style="background-color: #56b44a;">
                  <div class="card-body d-flex align-items-center">
                    <i data-feather="check-circle" class="me-3" style="width:24px; height:24px;"></i>
                    <div>
                      <h6 class="card-title mb-0">Completed Tasks</h6>
                      <h4 class="mb-0">25</h4>
                    </div>
                  </div>
                </div>
              </a>
            </div>

            <!-- Due Today -->
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-3">
              <a href="#" class="text-decoration-none">
                <div class="card text-white shadow-sm" style="background-color:#e8b83f">
                  <div class="card-body d-flex align-items-center">
                    <i data-feather="calendar" class="me-3" style="width:24px; height:24px;"></i>
                    <div>
                      <h6 class="card-title mb-0">Due Today</h6>
                      <h4 class="mb-0">3</h4>
                    </div>
                  </div>
                </div>
              </a>
            </div>

            <!-- Pending Tasks -->
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-3">
              <a href="#" class="text-decoration-none">
                <div class="card text-white shadow-sm" style="background-color:#5387c7">
                  <div class="card-body d-flex align-items-center">
                    <i data-feather="clock" class="me-3" style="width:24px; height:24px;"></i>
                    <div>
                      <h6 class="card-title mb-0">Pending Tasks</h6>
                      <h4 class="mb-0">12</h4>
                    </div>
                  </div>
                </div>
              </a>
            </div>

            <!-- Overdue -->
            <div class="col-12 col-sm-6 col-md-6 col-lg-3 mb-3">
              <a href="#" class="text-decoration-none">
                <div class="card text-white shadow-sm" style="background-color:#d45b5b;">
                  <div class="card-body d-flex align-items-center">
                    <i data-feather="alert-triangle" class="me-3" style="width:24px; height:24px;"></i>
                    <div>
                      <h6 class="card-title mb-0">Overdue</h6>
                      <h4 class="mb-0">2</h4>
                    </div>
                  </div>
                </div>
              </a>
            </div>
          </div>
          <div class="card mt-4 shadow-sm">
            <div class="card-header">
              <h5 class="mb-0">üìå Tasks Due Today</h5>
            </div>
            <div class="card-body">
              <ul class="list-group list-group-flush">
                <li class="list-group-item">
                  <input class="form-check-input me-2" type="checkbox" value="">
                  Finish project report <span class="text-danger"> ‚ö†Ô∏è overdue</span>
                </li>
                <li class="list-group-item">
                  <input class="form-check-input me-2" type="checkbox" value="">
                  Team meeting at 3PM
                </li>
                <li class="list-group-item">
                  <input class="form-check-input me-2" type="checkbox" value="">
                  Grocery shopping
                </li>
              </ul>
            </div>
          </div>

          <div class="row mt-4">
            <!-- Calendar Card -->
            <div class="col-md-6">
              <div class="card shadow-sm">
                <div class="card-header d-flex justify-content-between align-items-center">
                  <h5 class="mb-0">üìÖ Calendar</h5>
                </div>
                <div class="card-body">
                  <!-- Mini calendar placeholder -->
                  <div id="miniCalendar" style="height: 250px;"></div>
                </div>
              </div>
            </div>

            <!-- Pie Chart Card -->
            <div class="col-md-6">
              <div class="card shadow-sm">
                <div class="card-header">
                  <h5 class="mb-0">üìä Task Progress</h5>
                </div>
                <div class="card-body">
                  <canvas id="taskPieChart" style="max-height: 250px;"></canvas>
                </div>
              </div>
            </div>
          </div>

          <div class="card mt-4 shadow-sm">
            <div class="card-header">
              <h5 class="mb-0">‚ö° Quick Add</h5>
            </div>
            <div class="card-body d-flex">
              <input type="text" class="form-control me-2" placeholder="Add a new task...">
              <button class="btn btn-primary">+</button>
            </div>
          </div>
      
{% endblock %}

    <!-- Bootstrap 5 JS -->
    {% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      const ctx = document.getElementById('taskPieChart').getContext('2d');
      const taskPieChart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: ['Completed', 'Pending', 'Overdue'],
          datasets: [{
            data: [12, 8, 3],  // Example numbers
            backgroundColor: ['#28a745', '#ffc107', '#dc3545'],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          plugins: {
            legend: {
              position: 'bottom'
            }
          }
        }
      });
</script>
{% endblock %}