{% extends "base.html" %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3 border-bottom">
  <h2>Todayâ€™s Tasks</h2>
  <a href="{{ url_for('add_task') }}" class="btn add-task">
    <i data-feather="plus"></i> Add Task
  </a>
</div>

<ul class="list-unstyled task-list">
  {% for task in tasks %}
  <li class="task-item d-flex align-items-start">
    <form action="{{ url_for('toggle_task_status', task_id=task.id) }}" method="post" class="d-flex align-items-start">
      <input type="checkbox" 
             class="task-checkbox check me-2" 
             {% if task.completed %}checked{% endif %}
             onchange="this.form.submit()">

      <div class="task-info">
        <span class="task-text-today">{{ task.title }}</span>
        <small class="text-muted d-block">{{task.description}}</small>
        <small class="text-muted d-block">Due: {{ task.due_date }}</small>
      </div>
    </form>
  </li>
  {% endfor %}
</ul>
{% endblock %}